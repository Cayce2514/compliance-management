=yield_content :secnav

-left_controller = @left.class.to_s.underscore.pluralize.to_sym
-left_class = @left.class.to_s.underscore
-right_action = @right_class.to_s.underscore.pluralize.to_sym
-right_ids = (@right_class.to_s.underscore + "_ids").to_sym
#wrap
  #left
    -if @show_slugfilter
      =partial "base/slugfilter"
    %h3=pat(left_class)
    %ol
      -@lefts.each do |left_object|
        %li.ui-widget-content
          -if @left.id == left_object.id
            %b
              &~left_object.display_name
          -else
            %a{:href => url(left_controller, right_action, left_object.id)}
              &~left_object.display_name
  #right
    -form_for @left, url(left_controller, right_action, :id => @left.id), :method => :put, :class => :form do |f|
      .group.navform.wat-cf
        =f.submit pat(:save), :class => :button
        =link_to :cancel, url(left_controller, right_action, :id => @left.id)

      %h3=pat(@right_class.to_s.underscore)
      =f.select right_ids, :class => :association, :collection => @rights, :fields => [:display_name, :id], :multiple => true
      :javascript
        $('##{left_class}_#{right_ids}').manyselect({ });
