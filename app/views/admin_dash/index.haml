-content_for :header do
  %ol#breadcrumb
    %li ADMIN
  .location#pageTitle Sys Admin Dashboard

-content_for :page_help, 'admin'

-content_for :subheader_extras do
  .btn-group.closed.fltrt
    %a.btn.btn-blue.dropdown-toggle{ :'data-toggle' => 'dropdown' }
      New Object
      %span.caret
    %ul.dropdown-menu
      %li.divider
      %li.dropdown-menulabel.txtindent1 Create New ...
      %li
        %a{ :'data-toggle' => 'modal-ajax-form', :'data-modal-reset' => 'reset', :'data-form-target' => 'refresh', :href => new_flow_account_path }
          Account
      %li
        %a{ :'data-toggle' => 'modal-ajax-form', :'data-modal-reset' => 'reset', :'data-form-target' => 'refresh', :href => new_flow_person_path }
          Person

.row-static
  .singleColumn
    .WidgetBox
      .WidgetBoxHeading
        .WidgetTitle Toggle Features
      .WidgetBoxContent.fltnone
        -path = request.fullpath.gsub(/BETA=[^&]*&?/, '').sub(/[?&]$/, '')
        -path += path.include?('?') ? '&' : '?'
        -if has_feature? :BETA
          %a.btn.btn-large.btn-warning{ :href => "#{path}BETA=0" } disable Beta features
        -else
          %a.btn.btn-large.btn-success{ :href => "#{path}BETA=1" } enable Beta features
    .singleColumn
      -if has_feature? :BETA
      
        / in progress
        #Programs.WidgetBox.singleWide
          .WidgetBoxHeading
            .WidgetTitle In-Progress Pages
            %nav
              %a.widgetbtn{"data-toggle" => "modal", :href => "#comingsoonModal"}
                %i.gcmsicon-questionmark-grey
              %input.ui-corner-all.widgetsearch{:placeholder => "Search", :type => "text"}/
              %a.accordion-toggle.widgetbtn{"data-toggle" => "collapse", :href => "#programsInProgress"}
                %i.gcmsicon-enlarge-grey
          / /.WidgetBoxHeading
          .WidgetBoxContent
            #programsInProgress.toolbar-widget.in
              %ul#quickLinks.nav.nav-tabs.nav-stacked.in
                %li.group
                  %a.btn{:href => "/design/audit-manager"}
                    Audit Manager
                %li.group
                  %a.btn{:href => "/controls"}
                    Controls Page
                %li.group
                  %a.btn{:href => "/design/audit-dashboard"}
                    Audit Dashboard
                
                %li.group
                  %a.btn{:href => "/design/audit-setup"}
                    Audit Setup
                %li.group
                  %a.btn{:href => "/design/audit-control-review"}
                    Audit Controls Review
                %li.group
                  %a.btn{:href => "/systems"}
                    Systems Page
                %li.group
                  %a.btn{:href => "/design/products"}
                    Products Page
                %li.group
                  %a.btn{:href => "/programs"}
                    Programs Page
                %li.group
                  %a.btn{:href => "/mapping/show/1"}
                    Reg Mapper

      
      / Start of widget - not beta
      #companycontrolwidget.WidgetBox
        .WidgetBoxHeading
          %nav
            %a.widgettextbtn{"data-toggle" => "modal", :href => "#"} Edit
          .WidgetTitle.doublewidth Settings and Options
        .WidgetBoxContent
          %h3 System-Wide Settings
          %hr.hr-widget/
          %h3 Options - These are used for Menus
          .row-fluid.nominheight
            %hr.hr-widget/
            %a.fltrt.btn.btn-large.btn-info{"data-dismiss" => "modal", :href => "/design/admin-settings"} View
      / end of widget
      / Start of widget
      #companycontrolwidget.WidgetBox
        .WidgetBoxHeading
          %nav
            %a.widgettextbtn{"data-toggle" => "modal", :href => "#"} Edit
          .WidgetTitle.doublewidth Documentation and Help
        .WidgetBoxContent
          %hr.hr-widget/
          .row-fluid.nominheight
            %hr.hr-widget/
            %a.fltrt.btn.btn-large.btn-info{"data-dismiss" => "modal", :href => "#comingsoonModal"} Go to Documentation Folder
      / end of widget
    /second column
    .singleColumn
      #companycontrolwidget.WidgetBox
        .WidgetBoxHeading
          %nav
            %a.widgettextbtn{"data-toggle" => "modal", :href => "#"} Edit
          .WidgetTitle.doublewidth Accounts & Roles
        .WidgetBoxContent
          %hr.hr-widget/
          .row-fluid.nominheight
            %hr.hr-widget/
            %a.fltrt.btn.btn-large.btn-info{"data-dismiss" => "modal", :href => "/design/admin-accounts"} View
      / end of widget

      / Start of widget
      #companycontrolwidget.WidgetBox
        .WidgetBoxHeading
          %nav
            %a.widgettextbtn{"data-toggle" => "modal", :href => "#"} Edit
          .WidgetTitle.doublewidth Scheduled Events
        .WidgetBoxContent
          .row-fluid.fltnone
            .span6
              %label
                %strong Scheduled Events
              %strong 239
              Systems
            .span6
              .row-fluid
                .span2.fltrt
                .span4.fltrt
                  %label.fltnone
                    %strong Past
                  .badge.badge-success.fltnone 197
                .span3.fltrt
                  %label.fltnone
                    %strong Present
                  .badge.badge-warning.fltnone 33
                .span3.fltrt
                  %label.fltnone
                    %strong Future
                  .badge.badge-important.fltnone 9
          %hr.hr-widget/
          .row-fluid.nominheight
            %hr.hr-widget/
            %a.fltrt.btn.btn-large.btn-info{"data-dismiss" => "modal", :href => "/design/admin-events"} View
      / end of widget
    /third column
    .singleColumn
      #companycontrolwidget.WidgetBox
        .WidgetBoxHeading
          %nav
            %a.widgettextbtn{"data-toggle" => "modal", :href => "#"} Edit
          .WidgetTitle.doublewidth Logs
        .WidgetBoxContent
          %hr.hr-widget/
          %ul#TransactionList.in
            %li.controlSlot.ui-draggable{"data-toggle" => "modal", :href => "#referenceSelectorModal"}
              .controls-group
                .controls-type Log-1
                .controls-subtype
                .controls-subgroup Log Report 1
            %li.controlSlot.ui-draggable{"data-toggle" => "modal", :href => "#referenceSelectorModal"}
              .controls-group
                .controls-type Log-2
                .controls-subtype
                .controls-subgroup Log Report 2
            %li.controlSlot.ui-draggable{"data-toggle" => "modal", :href => "#referenceSelectorModal"}
              .controls-group
                .controls-type Log-3
                .controls-subtype
                .controls-subgroup Log Report 3
          .row-fluid.nominheight
            %hr.hr-widget/
          %a.fltrt.btn.btn-large.btn-info{"data-dismiss" => "modal", :href => "/design/admin-logs"} View
      / end of widget
      / Start of widget
      #companycontrolwidget.WidgetBox
        .WidgetBoxHeading
          %nav
            %a.widgettextbtn{"data-toggle" => "modal", :href => "#"} Edit
          .WidgetTitle.doublewidth References and Validations
        .WidgetBoxContent
          %hr.hr-widget/
          .row-fluid.nominheight
            %hr.hr-widget/
            %a.fltrt.btn.btn-large.btn-info{"data-dismiss" => "modal", :href => "/design/admin-refval"} View
      / end of widget
      / Start of widget
      

.row-static
  .singleColumn
    .singleWide
      

  -if has_feature? :BETA
    .singleColumn
      / in progress
      #Programs.WidgetBox.singleWide
        .WidgetBoxHeading
          .WidgetTitle In-Progress Modals
          %nav
            %a.widgetbtn{"data-toggle" => "modal", :href => "#comingsoonModal"}
              %i.gcmsicon-questionmark-grey
            %input.ui-corner-all.widgetsearch{:placeholder => "Search", :type => "text"}/
            %a.accordion-toggle.widgetbtn{"data-toggle" => "collapse", :href => "#programInProgress"}
              %i.gcmsicon-enlarge-grey
        / /.WidgetBoxHeading
        .WidgetBoxContent
          #programInProgress.toolbar-widget.in
            %ul#quickLinks.nav.nav-tabs.nav-stacked.in
              %li.group
                %a.btn{"data-toggle" => "modal", :href => "#redesignNewSectionWide"}
                  Redesign: New Section (Wide)
              %li.group
                %a.btn{"data-toggle" => "modal", :href => "#redesignSelectPersonWide"}
                  Redesign: Select person (Wide)
              %li.group
                %a.btn{"data-toggle" => "modal", :href => "#newreference"}
                  New Reference
              %li.group
                %a.btn{"data-toggle" => "modal", :href => "#newcontrolModal"}
                  New Control
              %li.group
                %a.btn{"data-toggle" => "modal", :href => "#auditCycleModal"}
                  New/Edit Audit Cycle
              %li.group
                %a.btn{"data-toggle" => "modal", :href => "#newprogramModal"}
                  Old New Program - Mail Merge?
              %li.group
                %a.btn{"data-toggle" => "modal", :href => "#newsectionModal"}
                  New Section
              %li.group
                %a.btn{"data-toggle" => "modal", :href => "#createnewProduct"}
                  New/Edit Product
              %li.group
                %a.btn{"data-toggle" => "modal", :href => "#newsystemModal"}
                  New/Edit System
              %li.group
                %a.btn{"data-toggle" => "modal", :href => "#sendauditorinvite"}
                  Send Auditor Invite
              %li.group
                %a.btn{"data-toggle" => "modal", :href => "#auditdefaultscope"}
                  Set Audit Default Scope
              %li.group
                %a.btn{"data-toggle" => "modal", :href => "#confirmModal"}
                  Are You Sure?
              %li.group
                %a.btn{"data-toggle" => "modal", :href => "#basicnewpersonModal"}
                  Basic New Person
              %li.group
                %a.btn{"data-toggle" => "modal", :href => "#newtransactionModal"}
                  New Transaction
              %li.group
                %a.btn{"data-toggle" => "modal", :href => "#createnewProduct"}
                  New/Edit Product
              %li.group
                %a.btn{"data-toggle" => "modal", :href => "#mappedcontrols"}
                  Empty Mapping (Reg Mapper)
              %li.group
                %a.btn{"data-toggle" => "modal", :href => "#mappedcontrolsfull"}
                  Mapped Controls (Reg Mapper)
              %li
                %h5 In progress
              %li.group
                %a.btn{"data-toggle" => "modal", :href => "#createnewfacility"}
                  New Location/Facility
              %li.group
                %a.btn{"data-toggle" => "modal", :href => "#newentityModal"}
                  New Entity/Org Group
              %li.group
                %a.btn{"data-toggle" => "modal", :href => "#createnewthreat"}
                  New Threat/Risk
    .singleColumn
      / in progress
      #Programs.WidgetBox.singleWide
        .WidgetBoxHeading
          .WidgetTitle In-Progress x2 Modals
          %nav
            %a.widgetbtn{"data-toggle" => "modal", :href => "#comingsoonModal"}
              %i.gcmsicon-questionmark-grey
            %input.ui-corner-all.widgetsearch{:placeholder => "Search", :type => "text"}/
            %a.accordion-toggle.widgetbtn{"data-toggle" => "collapse", :href => "#programInProgressRedesign"}
              %i.gcmsicon-enlarge-grey
        / /.WidgetBoxHeading
        .WidgetBoxContent
          #programInProgressRedesign.toolbar-widget.in
            %ul#quickLinks.nav.nav-tabs.nav-stacked.in
              %li.group
                %a.btn{"data-toggle" => "modal", :href => "#redesignNewProgram"}
                  Redesign: New Program
              %li.group
                %a.btn{"data-toggle" => "modal", :href => "#redesignNewControlWide"}
                  Redesign: New Control
              %li.group
                %a.btn{"data-toggle" => "modal", :href => "#redesignNewSectionWide"}
                  Redesign: New Section
              %li.group
                %a.btn{"data-toggle" => "modal", :href => "#newsystemModal"}
                  New/Edit System/Biz Process
            
  .doubleColumn
    .fullHeight
      =render :partial => 'admin_dash/accounts',
              :layout => 'layouts/widget_box',
              :locals => { :accounts => @accounts, :people => @people }

  -#.singleColumn
    .halfHeight
      =render :partial => 'admin_dash/old_links',
              :layout => 'layouts/widget_box'
